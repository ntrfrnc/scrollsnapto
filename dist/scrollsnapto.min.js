"use strict";if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()};
/*! ScrollSnapTo.js by Rafael Pawlos | http://git.rafaelpawlos.com/scrollsnapto | MIT license */
}(function(g,a,d,b){var f="scrollsnapto";var c="plugin_"+f;var e={init:function(i,j){var h=this;h.opts=i;h.elements=j;h.scrollTopContainer=g(/AppleWebKit/.test(navigator.userAgent)?"body":"html");h.ffAndroidDelayFix=/Android/.test(navigator.userAgent)&&/Firefox/.test(navigator.userAgent)?400:50;h.activeKey="0";h.getScrollTopOnStart();h.onWindowScrollStop(function(k){h.snapTo(j,k)},i.delay)},onWindowScrollStop:function(j,i){var h=this;h.onScrollbarMouseUp(function(){if(h.scrollTopContainer.scrollTop()<h.scrollTopOnStart){j("up")}else{if(h.scrollTopContainer.scrollTop()>h.scrollTopOnStart){j("down")}}});g(d).on("mousewheel DOMMouseScroll",function(k){h.scrollTopContainer.stop(true);clearTimeout(h.wheelScrollTimer);h.wheelScrollTimer=setTimeout(function(){if(k.originalEvent.wheelDelta>=0||k.originalEvent.detail<0){j("up")}else{j("down")}},i+50)});g(d).on("resize",function(k){clearTimeout(h.resizeTimer);h.resizeTimer=setTimeout(function(){j("both")},i+300)});g(a).on("mouseup",function(k){if(k.which===2||k.button===4){if(h.scrollTopContainer.scrollTop()<h.scrollTopOnStart){j("up")}else{if(h.scrollTopContainer.scrollTop()>h.scrollTopOnStart){j("down")}}}});g(a).on("keyup",function(k){if(k.keyCode===38){j("up")}else{if(k.keyCode===40){j("down")}}});g(a).on("touchend",function(k){h.kineticScroll=false;g(d).on("scroll.scrollsnapto.touch",function(l){clearTimeout(h.scrollTimer);h.kineticScroll=true;h.scrollTimer=setTimeout(function(){if(h.scrollTopContainer.scrollTop()<h.scrollTopOnStart){j("up")}else{if(h.scrollTopContainer.scrollTop()>h.scrollTopOnStart){j("down")}}g(d).off("scroll.scrollsnapto.touch")},i+h.ffAndroidDelayFix)});setTimeout(function(){if(!h.kineticScroll){if(h.scrollTopContainer.scrollTop()!==h.scrollTopOnStart){j("both")}g(d).off("scroll.scrollsnapto.touch")}},i+h.ffAndroidDelayFix)});g(a).on("touchstart touchmove",function(k){h.scrollTopContainer.stop(true)})},getScrollTopOnStart:function(){var h=this;g(d).one("scroll touchstart",function(){h.scrollTopOnStart=h.scrollTopContainer.scrollTop()})},onScrollbarMouseUp:function(i){var h=this;g("body").on("mouseup",function(){h.onContentEvent=true;setTimeout(function(){h.onContentEvent=false},10)});g(d).on("mouseup",function(j){if(!h.onContentEvent){i()}});if(/Trident/.test(navigator.userAgent)){g("body").on("mousedown",function(){h.onContentEvent=true;setTimeout(function(){h.onContentEvent=false},10)});g(d).on("mousedown",function(j){if(!h.onContentEvent){g(d).on("scroll",function(k){clearTimeout(h.scrollTimer);h.scrollTimer=setTimeout(function(){i();g(d).off("scroll")},50)})}})}},scrollToElement:function(j){var i=this;var h=j.biggerThanViewport?j.offsetCenter-i.elements[j.key].offsetHeight/2:j.offsetCenter-i.windowHalfHeight;i.scrollTopContainer.stop(true).animate({scrollTop:h},i.opts.speed,i.opts.ease,function(){i.getScrollTopOnStart();i.opts.onSnapEnd()})},switchActive:function(i){var h=this;if(h.active){g(h.active).removeClass("sst-active")}g(h.elements[i.key]).addClass("sst-active");h.activeKey=i.key;h.active=h.elements[i.key]},snapTo:function(m,n){var j=this;j.windowHalfHeight=d.innerHeight/2;j.windowCenterOffset=d.pageYOffset+j.windowHalfHeight;var h=b.keys(m).map(function(q){var p=(m[q].offsetHeight>j.windowHalfHeight*2);var s=j.findOffsetTop(m[q]);var i=s+m[q].offsetHeight/2;var t=(p)?s+(d.innerHeight/2)-j.windowCenterOffset:i-j.windowCenterOffset;var r=Math.abs(t);var o={key:q,biggerThanViewport:p,distanceFromCenter:t,distanceFromCenterAbs:r,offsetCenter:i,offsetTop:s,offsetBottom:s+m[q].offsetHeight};return o});h.sort(function(o,i){if(!isFinite(o.distanceFromCenterAbs-i.distanceFromCenterAbs)){return !isFinite(o.distanceFromCenterAbs)?1:-1}else{return o.distanceFromCenterAbs-i.distanceFromCenterAbs}});switch(n){case"up":for(var k=0;k<3;k++){if(h[k].distanceFromCenter<-0.5&&h[k].key!==j.activeKey&&(d.scrollY-h[k].offsetTop<d.innerHeight||!h[k].biggerThanViewport)){j.scrollToElement(h[k]);j.switchActive(h[k]);return true}}break;case"down":var l=d.pageYOffset+d.innerHeight;for(var k=0;k<3;k++){if(h[k].distanceFromCenter>0.5&&h[k].key!==j.activeKey&&(h[k].offsetTop-l<j.opts.offsetForBiggersThanViewport)){j.scrollToElement(h[k]);j.switchActive(h[k]);return true}}break;case"both":j.scrollToElement(h[0]);j.switchActive(h[0]);return true}},findOffsetTop:function(h){var i=h.offsetTop;while(h.offsetParent){if(h===a.getElementsByTagName("body")[0]){break}else{i=i+h.offsetParent.offsetTop;h=h.offsetParent}}return i}};g.fn[f]=function(i){var j=g.extend(true,{speed:400,ease:"swing",delay:20,careAboutBiggersThanViewport:true,offsetForBiggersThanViewport:10,onSnapEnd:function(){}},i);var h=g.data(d,c);if(!h){h=b.create(e).init(j,this);g.data(this,c,h)}else{g.error("Plugin is already initialized.");return}return this}}(jQuery,document,window,Object));